# Example triage auto-commit rules for Signal Ingestion
# Copy to .mentu/triage.yaml or integrate with Genesis Key

triage:
  auto_commit:
    # Push to main triggers CI
    - match:
        kind: github_push
        "meta.ref": "refs/heads/main"
      action:
        op: commit
        body: "Run CI for push: ${body}"
        meta:
          affinity: bridge
          working_directory: "/Users/rashid/Desktop/Workspaces/${meta.repo}"
          timeout: 30

    # PR opened triggers review
    - match:
        kind: github_pr
        "meta.action": "opened"
      action:
        op: commit
        body: "Review PR: ${body}"
        meta:
          affinity: claude-code
          timeout: 60

    # Bug issues create investigation task
    - match:
        kind: github_issue
        "meta.action": "opened"
        "meta.labels": ["bug"]
      action:
        op: commit
        body: "Investigate bug: ${body}"
        meta:
          affinity: claude-code
          timeout: 120
